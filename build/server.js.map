{"version":3,"sources":["../app/server.js"],"names":["dotenv","config","app","process","env","PORT","use","server","http","createServer","schema","graphiql","GRAPHIQL","express","static","get","req","res","sendFile","path","resolve","__dirname","listen","console","log","address","port"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA;AACAA,gBAAOC,MAAP;;AAEA,IAAMC,GAAG,GAAG,uBAAZ;wBACwBC,OAAO,CAACC,G,CAAxBC,I;IAAAA,I,kCAAO,I,sBAEf;;AACAH,GAAG,CAACI,GAAJ,CAAQ,oBAAR,E,CAEA;;AACAJ,GAAG,CAACK,MAAJ,GAAaC,cAAKC,YAAL,CAAkBP,GAAlB,CAAb,C,CAEA;;AACAA,GAAG,CAACI,GAAJ,CAAQ,UAAR,EAAoB,6BAAY;AAC5BI,EAAAA,MAAM,EAANA,cAD4B;AAE5BC,EAAAA,QAAQ,EAAE,UAAGR,OAAO,CAACC,GAAR,CAAYQ,QAAf,KAA6B;AAFX,CAAZ,CAApB;AAKAV,GAAG,CAACI,GAAJ,CAAQO,iBAAQC,MAAR,CAAe,QAAf,CAAR;AACAZ,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBA,EAAAA,GAAG,CAACC,QAAJ,CAAaC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,QAAxB,EAAkC,YAAlC,CAAb;AACH,CAFD,E,CAIA;;AACAnB,GAAG,CAACK,MAAJ,CAAWe,MAAX,CAAkBjB,IAAlB,EAAwB;AAAA,SAAMkB,OAAO,CAACC,GAAR,+CAAmDtB,GAAG,CAACK,MAAJ,CAAWkB,OAAX,GAAqBC,IAAxE,EAAN;AAAA,CAAxB","sourcesContent":["import express from 'express'\r\nimport http from 'http';\r\nimport graphqlHTTP from 'express-graphql'\r\nimport cors from 'cors'\r\nimport {schema} from './schema'\r\nimport dotenv from 'dotenv'\r\nimport path from 'path'\r\n\r\n// Reconocer archivos .env\r\ndotenv.config();\r\n\r\nconst app = express()\r\nconst { PORT = 4000 } = process.env\r\n\r\n// Habilita cors\r\napp.use(cors())\r\n\r\n// Crea servidor HTTP\r\napp.server = http.createServer(app);\r\n\r\n// Configura GraphQl ennpoint\r\napp.use('/graphql', graphqlHTTP({\r\n    schema,\r\n    graphiql: `${process.env.GRAPHIQL}` || true\r\n}))\r\n\r\napp.use(express.static('public'))\r\napp.get('*', (req, res) => {\r\n    res.sendFile(path.resolve(__dirname, 'public', 'index.html'))\r\n})\r\n\r\n//Levanta servidor en puerto de configuracion o 4000 por defecto\r\napp.server.listen(PORT, () => console.log(`Servidor API levantado en el puerto ${app.server.address().port}`))"],"file":"server.js"}